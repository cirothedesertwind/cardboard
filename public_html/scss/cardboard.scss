$gutter-width: 1rem;
$outer-margin: 2rem;
$gutter-compensation: ($gutter-width * 0.5) * -1;
$half-gutter-width: ($gutter-width * 0.5);
$screen-xs-min: 0;
$screen-sm-min: 48em;
$screen-md-min: 62em;
$screen-lg-min: 75em;
$container-sm: 45rem + $gutter-width;
$container-md: 60rem + $gutter-width;
$container-lg: 70rem + $gutter-width;

.container-fluid {
  margin-right: auto;
  margin-left: auto;
  padding-right: $outer-margin;
  padding-left: $outer-margin;
}

[data-cb-r] {
  box-sizing: border-box;
  display: flex;
  flex: 0 1 auto;
  flex-direction: row;
  flex-wrap: wrap;
  margin-right: $gutter-compensation;
  margin-left: $gutter-compensation;
}

[data-cb-r~="reverse"] {
  flex-direction: row-reverse;
}

[data-cb-c] {
  box-sizing: border-box;
  flex: 0 0 auto;
  padding-right: $half-gutter-width;
  padding-left: $half-gutter-width;
}

[data-cb-c~="reverse"] {
  flex-direction: column-reverse;
}


@media (min-width: $screen-xs-min){

[data-cb-c~="xs"] {
  flex-grow: 1;
  flex-basis: 0;
  max-width: 100%;
}

@for $i from 1 through 12 {
  [data-cb-c~="xs-#{$i}"] {
    flex-basis: percentage($i / 12);
    max-width: percentage($i / 12);
  }
}

@for $i from 1 through 11 {
  [data-cb-c~="xs-offset-#{$i}"] {
      margin-left: percentage($i / 12);
  }
}

[data-cb-r~="start-xs"] {
  justify-content: flex-start;
  text-align: start;
}

[data-cb-r~="center-xs"] {
  justify-content: center;
  text-align: center;
}

[data-cb-r~="end-xs"] {
  justify-content: flex-end;
  text-align: end;
}

[data-cb-r~="top-xs"] {
  align-items: flex-start;
}

[data-cb-r~="middle-xs"] {
  align-items: center;
}

[data-cb-r~="bottom-xs"] {
  align-items: flex-end;
}

[data-cb-r~="around-xs"] {
  justify-content: space-around;
}

[data-cb-r~="between-xs"] {
  justify-content: space-between;
}

[data-cb-c~="first-xs"] {
  order: -1;
}

[data-cb-c~="last-xs"] {
  order: 1;
}

}

@media (min-width: $screen-sm-min) {
  .container {
    width: $container-sm;
  }

  [data-cb-c~="sm"] {
    flex-grow: 1;
    flex-basis: 0;
    max-width: 100%;
  }

 @for $i from 1 through 12 {
  [data-cb-c~="sm-#{$i}"] {
    flex-basis: percentage($i / 12);
    max-width: percentage($i / 12);
  }
}

@for $i from 1 through 11 {
  [data-cb-c~="sm-offset-#{$i}"] {
      margin-left: percentage($i / 12);
  }
}

  [data-cb-r~="start-sm"] {
    justify-content: flex-start;
    text-align: start;
  }

  [data-cb-r~="center-sm"] {
    justify-content: center;
    text-align: center;
  }

  [data-cb-r~="end-sm"] {
    justify-content: flex-end;
    text-align: end;
  }

  [data-cb-r~="top-sm"] {
    align-items: flex-start;
  }

  [data-cb-r~="middle-sm"] {
    align-items: center;
  }

  [data-cb-r~="bottom-sm"] {
    align-items: flex-end;
  }

  [data-cb-r~="around-sm"] {
    justify-content: space-around;
  }

  [data-cb-r~="between-sm"] {
    justify-content: space-between;
  }

  .first-sm {
    order: -1;
  }

  .last-sm {
    order: 1;
  }
}

@media (min-width: $screen-md-min) {
  .container {
    width: $container-md;
  }

  [data-cb-c~="md"] {
    flex-grow: 1;
    flex-basis: 0;
    max-width: 100%;
  }

  @for $i from 1 through 12 {
  [data-cb-c~="md-#{$i}"] {
    flex-basis: percentage($i / 12);
    max-width: percentage($i / 12);
  }
}

@for $i from 1 through 11 {
  [data-cb-c~="md-offset-#{$i}"] {
      margin-left: percentage($i / 12);
  }
}
  

  [data-cb-r~="start-md"] {
    justify-content: flex-start;
    text-align: start;
  }

  [data-cb-r~="center-md"] {
    justify-content: center;
    text-align: center;
  }

  [data-cb-r~="end-md"] {
    justify-content: flex-end;
    text-align: end;
  }

  [data-cb-r~="top-md"] {
    align-items: flex-start;
  }

  [data-cb-r~="middle-md"] {
    align-items: center;
  }

  [data-cb-r~="bottom-md"] {
    align-items: flex-end;
  }

  [data-cb-r~="around-md"] {
    justify-content: space-around;
  }

  [data-cb-r~="between-md"] {
    justify-content: space-between;
  }

  [data-cb-c~="first-md"] {
    order: -1;
  }

  [data-cb-c~="last-md"] {
    order: 1;
  }
}

@media (min-width: $screen-lg-min) {
  .container {
    width: $container-lg;
  }

  [data-cb-c~="lg"] {
    flex-grow: 1;
    flex-basis: 0;
    max-width: 100%;
  }

  @for $i from 1 through 12 {
  [data-cb-c~="lg-#{$i}"] {
    flex-basis: percentage($i / 12);
    max-width: percentage($i / 12);
  }
}

@for $i from 1 through 11 {
  [data-cb-c~="lg-offset-#{$i}"] {
      margin-left: percentage($i / 12);
  }
}

  [data-cb-r~="start-lg"] {
    justify-content: flex-start;
    text-align: start;
  }

  [data-cb-r~="center-lg"] {
    justify-content: center;
    text-align: center;
  }

  [data-cb-r~="end-lg"] {
    justify-content: flex-end;
    text-align: end;
  }

  [data-cb-r~="top-lg"] {
    align-items: flex-start;
  }

  [data-cb-r~="middle-lg"] {
    align-items: center;
  }

  [data-cb-r~="bottom-lg"] {
    align-items: flex-end;
  }

  [data-cb-r~="around-lg"] {
    justify-content: space-around;
  }

  [data-cb-r~="between-lg"] {
    justify-content: space-between;
  }

  [data-cb-c~="first-lg"] {
    order: -1;
  }

  [data-cb-c~="last-lg"] {
    order: 1;
  }
}
